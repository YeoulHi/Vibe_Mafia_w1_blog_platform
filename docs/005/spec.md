# 5. 체험단 상세

- **Primary Actor**: 모든 사용자
- **Precondition**: 사용자가 체험단 목록에서 특정 체험단을 선택했다.
- **Trigger**: 체험단 목록의 특정 항목을 클릭하여 상세 페이지로 진입한다.

---

### Main Scenario

1. 사용자가 체험단 상세 페이지에 접속한다.
2. 시스템은 URL의 ID를 기반으로 해당 체험단의 모든 상세 정보(모집 기간, 제공 혜택, 미션 내용, 업체 정보, 지도 등)를 조회한다.
3. 조회된 정보가 페이지에 렌더링된다.
4. 시스템은 현재 접속한 사용자의 상태를 확인한다.
5. **Case 1: 로그인하지 않은 사용자 또는 광고주 사용자**: '지원하기' 버튼이 비활성화되거나 "인플루언서로 로그인 후 지원 가능합니다."와 같은 메시지가 표시된다.
6. **Case 2: 정보 등록을 완료한 인플루언서 사용자**: '지원하기' 버튼이 활성화된다.
7. **Case 3: 정보 등록을 완료하지 않은 인플루언서 사용자**: '지원하기' 버튼 클릭 시, "인플루언서 정보 등록을 먼저 완료해주세요." 라는 메시지와 함께 정보 등록 페이지로 안내한다.

---

### Edge Cases

- **존재하지 않는 체험단**: 유효하지 않은 ID로 접근 시, "존재하지 않는 체험단입니다." (404 Not Found) 페이지를 표시한다.
- **모집 기간 종료**: 모집 기간이 이미 종료된 체험단일 경우, '지원하기' 버튼을 비활성화하고 "모집이 마감된 체험단입니다." 메시지를 표시한다.

---

### Business Rules

- 체험단 상세 정보는 누구나 조회할 수 있다.
- '지원하기' 기능은 '인플루언서' 역할을 가지며, 프로필 및 채널 등록/검증을 완료한 사용자만 사용할 수 있다.
- 모집 기간이 아닐 경우 지원할 수 없다.

---

### Sequence Diagram

```plantuml
@startuml
title 5. 체험단 상세

actor User
participant FE as "Frontend"
participant BE as "Backend"
database DB as "Database"

User -> FE: 체험단 상세 페이지 접속 (e.g., /campaigns/{id})
FE -> BE: 체험단 상세 정보 요청 (GET /api/campaigns/{id})
BE -> DB: ID에 해당하는 체험단 정보 조회
alt 체험단 정보 없음
    DB -> BE: 없음
    BE -> FE: 404 Not Found 응답
    FE -> User: "페이지를 찾을 수 없습니다." 표시
else 체험단 정보 있음
    DB -> BE: 체험단 상세 데이터 반환
    BE -> FE: 상세 데이터 응답 (JSON)
    FE -> User: 체험단 상세 정보 렌더링

    alt 로그인한 인플루언서 (정보 등록 완료)
        FE -> BE: 사용자 권한/상태 확인
        BE -> FE: 지원 가능 상태 응답
        FE -> User: '지원하기' 버튼 활성화
    else 비로그인 또는 광고주 또는 정보 미등록 인플루언서
        FE -> User: '지원하기' 버튼 비활성화 또는 안내 메시지 표시
    end

    alt '지원하기' 버튼 클릭 (자격 미달 시)
        User -> FE: '지원하기' 버튼 클릭
        FE -> User: "로그인/정보 등록이 필요합니다." 안내
    end
end

@enduml
```
